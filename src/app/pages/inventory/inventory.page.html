<ion-content [fullscreen]="true" class="ion-padding">
  <div class="inventory-container">
    <div class="logo">
      <ion-grid>
        <ion-row>
          <ion-col size="12">
            <p>Inventario</p>
            <img src="assets/icon/inventory.png" alt="Login Logo">
            <p>Inventario</p>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>

    <!-- Encabezado -->
    <ion-header collapse="condense">
      <ion-toolbar>
        <ion-title size="large">Inventory</ion-title>
      </ion-toolbar>
    </ion-header>

    <!-- Contenedor principal -->

    <!-- Barra de búsqueda -->
    <app-search-bar></app-search-bar>

    <!-- Separador visual -->
    <ion-item-divider></ion-item-divider>

    <!-- Botón agregar producto -->
    <ion-button expand="full" (click)="toggleForm()">
      {{ isFormHidden ? 'Añadir Producto' : 'Cancelar' }}
    </ion-button>

    <!-- Formulario para agregar un nuevo producto -->
    <div *ngIf="!isFormHidden" class="product-form-container">
      <app-product-form (productAdded)="addProduct($event)"></app-product-form>
    </div>

    <!-- Lista de productos -->
    <ng-container *ngIf="(productos$ | async) as productos">
      <ion-grid>
        <ion-row>
          <ion-col size="12" size-md="6" size-lg="4" *ngFor="let product of productos">
            <app-product-card [product]="product"></app-product-card>

            <!-- Botones de acción (Editar y Borrar) -->
            <div class="button-group">
              <ion-button expand="block" color="secondary" (click)="editProduct(product)">Editar</ion-button>
              <ion-button expand="block" color="danger" (click)="product.id ? removeProduct(product.id) : null">Borrar</ion-button>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ng-container>


    <app-header-custom></app-header-custom>

    <!-- Pie de página (opcional, puedes añadir enlaces o cualquier otra cosa aquí) -->
    <ion-footer>
      <ion-toolbar>
        <ion-title>© Tu Compañía</ion-title>
      </ion-toolbar>
    </ion-footer>
  </div>
</ion-content>
