<ion-header>
  <ion-toolbar color="primary">
    <ion-title>AppTiro</ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <ion-title>Editar Producto</ion-title>
    <ion-buttons slot="end">
      <ion-button color="secondary" (click)="saveProduct()">Guardar</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="form-content">


   <!-- Botones de Navegación -->
   <ion-buttons>
    <ion-button (click)="toggleAccordion('verProducto')">Ver Producto</ion-button>
    <ion-button (click)="toggleAccordion('editarProducto')">Editar Producto</ion-button>
    <ion-button (click)="toggleAccordion('agregarProducto')">Agregar Producto</ion-button>
    <ion-button (click)="toggleAccordion('borrarProductos')">Borrar Productos</ion-button>
  </ion-buttons>


<!-- Acordeones -->
  
  <!-- Ver Producto -->
  <ion-card *ngIf="isAccordionOpen['verProducto']">
    <ion-card-header>
      <ion-card-title>Ver Producto</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <!-- Aquí iría el contenido para "Ver Producto" -->
      <p>Contenido para ver producto.</p>
    </ion-card-content>
  </ion-card>
  
  <!-- Editar Producto -->
  <ion-card *ngIf="isAccordionOpen['editarProducto']">
    <ion-card-header>
      <ion-card-title>Editar Producto</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
        <!-- Nombre del producto -->
        <ion-item lines="full">
          <ion-label position="stacked">Nombre</ion-label>
          <ion-input formControlName="nombre" placeholder="Ingresa el nombre del producto"></ion-input>
        </ion-item>
        <div *ngIf="productForm.get('nombre')?.invalid && productForm.get('nombre')?.touched">
          <p *ngIf="productForm.get('nombre')?.errors?.['required']">Nombre es obligatorio.</p>
        </div>
    
        <!-- Descripción -->
        <ion-item lines="full">
          <ion-label position="stacked">Descripción</ion-label>
          <ion-input formControlName="descripcion" placeholder="Ingresa la descripción"></ion-input>
        </ion-item>
    
        <!-- Cantidad -->
        <ion-item lines="full">
          <ion-label position="stacked">Cantidad</ion-label>
          <ion-input type="number" formControlName="cantidad" placeholder="Ingresa la cantidad"></ion-input>
        </ion-item>
        <div *ngIf="productForm.get('cantidad')?.invalid && productForm.get('cantidad')?.touched">
          <p *ngIf="productForm.get('cantidad')?.errors?.['required']">Cantidad es obligatoria.</p>
          <p *ngIf="productForm.get('cantidad')?.errors?.['min']">La cantidad debe ser al menos 1.</p>
        </div>
    
        <!-- Categoría -->
        <ion-item lines="full">
          <ion-label position="stacked">Categoría</ion-label>
          <ion-input formControlName="categoria" placeholder="Ingresa la categoría"></ion-input>
        </ion-item>
        <div *ngIf="productForm.get('categoria')?.invalid && productForm.get('categoria')?.touched">
          <p *ngIf="productForm.get('categoria')?.errors?.['required']">Categoría es obligatoria.</p>
        </div>
    
        <!-- Precio -->
        <ion-item lines="full">
          <ion-label position="stacked">Precio</ion-label>
          <ion-input 
            type="text" 
            formControlName="precio" 
            inputmode="decimal" 
            placeholder="Ingresa el precio" 
            clearInput="true">
          </ion-input>
        </ion-item>
        <div *ngIf="productForm.get('precio')?.invalid && productForm.get('precio')?.touched">
          <p *ngIf="productForm.get('precio')?.errors?.['required']">Precio es obligatorio.</p>
          <p *ngIf="productForm.get('precio')?.errors?.['min']">El precio debe ser mayor que 0.</p>
        </div>
    
        <!-- Estado -->
        <ion-item lines="full">
          <ion-label position="stacked">Estado</ion-label>
          <ion-select formControlName="status">
            <ion-select-option value="Disponible">Disponible</ion-select-option>
            <ion-select-option value="Bajo Stock">Bajo Stock</ion-select-option>
            <ion-select-option value="Agotado">Agotado</ion-select-option>
          </ion-select>
        </ion-item>
    
        <!-- URL de la imagen -->
        <ion-item lines="full">
          <ion-label position="stacked">URL Imagen</ion-label>
          <ion-input type="text" formControlName="imagenUrl" inputmode="url" placeholder="https://example.com/image.jpg"></ion-input>
        </ion-item>
    
        <!-- Imagen de vista previa -->
        <ion-item lines="full">
          <ion-img [src]="productForm.get('imagenUrl')?.value" *ngIf="productForm.get('imagenUrl')?.value" style="max-width: 100%;"></ion-img>
        </ion-item>
        <div *ngIf="productForm.get('imagenUrl')?.invalid && productForm.get('imagenUrl')?.touched">
          <p *ngIf="productForm.get('imagenUrl')?.errors?.['pattern']">URL de imagen no válida. Debe ser una URL válida con extensión de imagen.</p>
        </div>
    
        <!-- Botón Guardar -->
        <div class="action-button">
          <ion-button expand="block" color="secondary" type="submit">Guardar</ion-button>
        </div>
      </form>
    </ion-card-content>
  </ion-card>

  <!-- Agregar Producto -->
  <ion-card *ngIf="isAccordionOpen['agregarProducto']">
    <ion-card-header>
      <ion-card-title>Agregar Producto</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <!-- Aquí iría el contenido para "Agregar Producto" -->
      <p>Contenido para agregar producto.</p>
    </ion-card-content>
  </ion-card>

  <!-- Borrar Productos -->
  <ion-card *ngIf="isAccordionOpen['borrarProductos']">
    <ion-card-header>
      <ion-card-title>Borrar Productos</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <!-- Aquí iría el contenido para "Borrar Productos" -->
      <p>Contenido para borrar productos.</p>
    </ion-card-content>
  </ion-card>




  
  
</ion-content>
